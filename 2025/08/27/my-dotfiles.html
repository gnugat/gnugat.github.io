<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>My Dotfiles &mdash; Loïc Faugeron &mdash; Technical Blog</title>
    <meta name="description" content="Technical articles about Symfony and TDD">
    <meta name="author" content="Loïc Faugeron">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="canonical" href="/2025/08/27/my-dotfiles.html"/>
        <link rel="alternate" href="/feed/atom.xml" type="application/atom+xml" title="Loïc Faugeron"/>
    
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/skeleton.css">
    <link rel="stylesheet" href="/css/dop-dop-dop.css">
    <link rel="stylesheet" href="/css/github-dark.min.css">
    <link rel="stylesheet" href="/css/catppuccin-macchiato.css">
</head>
<body>
    <div class="container">
        <header class="title">
            <h1>
                <a href="/">Loïc Faugeron</a>
                <span class="sub-title">Technical Blog</span>
            </h1>
            
            <nav class="row">
                <a class="button two columns" href="/about">About</a>
                <a class="button two columns" href="/">Articles</a>
                <a class="button three columns" href="/best-articles">Best Articles</a>
                <a class="button two columns" href="/feed/atom.xml">RSS</a>
                <a class="button two columns" href="https://github.com/gnugat/gnugat.github.io/tree/main/_sculpin">Sources</a>
            </nav>
        </header>

        <article>
            <header>
                <h2>
    My Dotfiles
    <span class="sub-title">27/08/2025</span>
</h2>
                            <nav>
                                                            <a class="button " href="/tags/introducing-methodology">introducing-methodology</a>
                    </nav>
                </header>

                <p>Through the storm of scattered settings, your <a href="https://dotfiles.github.io/">dotfiles</a>
emerge as the lightning-born shepherds that bind chaos to your will.</p>

<ul>
<li><a href="#why">Why?</a></li>
<li><a href="#what-are-dotfiles">What are dotfiles?</a></li>
<li><a href="#how-to-manage-them">How to manage them?</a></li>
<li><a href="#my-system">My system</a></li>
<li><a href="#my-framework">My Framework</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>

<h2 id="why%3F">Why?</h2>

<p><a href="https://github.com/gnugat/dotfiles">My dotfiles repository</a> is how I backup,
restore and synchronise my shell / system preferences and settings.</p>

<p>I felt the need to do so back in 2014, when I had 3 computers
(personal desktop, personal laptop and work laptop) and wanted to keep the same
config across the different devices.</p>

<p>I now have one single device, yet this has proven very useful over the years,
especially any time I upgraded to a new device.</p>

<p>A decade ago, I tried my best to come up with a system that would:</p>

<ul>
<li>be simple</li>
<li>be flexible</li>
<li>stand the test of time</li>
</ul>

<p>I'm happy to report I was successful in this,
and I was even able to add cross platform compability (macOS) in 2025.</p>

<h2 id="what-are-dotfiles%3F">What are dotfiles?</h2>

<p>The configuration files for most UNIX tools usually start with a dot (<code>.</code>),
hence the name "dot files".</p>

<p>Examples of such files are:</p>

<ul>
<li><code>.bashrc</code>, configuring the bash shell</li>
<li><code>.vimrc</code>, setting up the powerful IDE</li>
<li><code>.gitconfig</code>, instructing git about your personal preferences</li>
</ul>

<h2 id="how-to-manage-them%3F">How to manage them?</h2>

<p>It's only this year that I started researching solutions on how to manage
dotfiles, in order to add support for macOS. There are so many tools:</p>

<ul>
<li><a href="https://www.gnu.org/software/stow/">GNU stow</a>, which symlinks the files from your dotfiles repo
to your home directory</li>
<li><a href="https://www.chezmoi.io/">chezmoi</a>, which adds templates and password manager support</li>
<li><a href="https://yadm.io/">yadm</a>, stands for Yet Another Dotfiles Manager,
is similar to chezmoi but less complex</li>
<li><a href="https://github.com/nix-community/home-manager">Nix home manager</a>,
which makes any changes to your configuration idempotent</li>
</ul>

<p>I got really interested in <a href="https://docs.ansible.com/">Ansible</a>, which promised
to set up my computers in an automated way.</p>

<p>But then I realise the size of the configuration files were way longer than if
I did it in a simple bash script. I also didn't like the idea to have to learn,
and maintain knowledge of yet another tool.</p>

<p>So in the end I decided to stick with what I had set up.
And cross platform compatibility turned out to be a breeze to implement!</p>

<h2 id="my-system">My system</h2>

<p><a href="https://github.com/gnugat/dotfiles">My dotfile repository</a> follows this file tree structure:</p>

<pre><code>.
├── &lt;xy&gt;-&lt;package&gt;/
│   ├── _&lt;package-manager&gt;.sh
│   ├── config/
│   ├── install.sh
│   └── README.md
└── install.sh
</code></pre>

<p>The root <code>install.sh</code> script is just here to iterate through each <strong>package</strong>
sub directories, it'll find the local <code>install.sh</code> there and execute it.</p>

<p>Examples of packages I have there are:</p>

<pre><code>.
├── 12-bash/
├── 13-curl/
├── 14-less/
├── 21-git/
├── 22-php/
├── 23-vim/
├── 24-tree/
└── 25-ack/
</code></pre>

<p>As for an example of what the inside of a package sub directory looks like:</p>

<pre><code>12-bash/
├── _apt.sh
├── _brew.sh
├── config/
│   ├── bashrc
│   ├── prompt.sh
│   └── shopt.sh
├── install.sh
└── README.md
</code></pre>

<p>The role of the package's <code>install.sh</code> script is to:</p>

<ol>
<li>call the appropriate <code>_&lt;package-manager&gt;.sh</code> script (<code>apt</code> for Ubuntu, <code>brew</code> for macOS)</li>
<li>copy / symlink the config from the repo to <code>~/.config</code></li>
<li>execute any additional installation steps (eg install vim plugins, or register Environment Variables, etc)</li>
</ol>

<p>For instance, here's the <code>install.sh</code> for bash:</p>

<pre><code class="bash">#!/usr/bin/env bash
# File: /12-bash/install.sh
# ──────────────────────────────────────────────────────────────────────────────
# 💲 bash - GNU Bourne-Again SHell
# ──────────────────────────────────────────────────────────────────────────────

_SSDF_PACKAGE_DIR="$(dirname "$(readlink -f "${BASH_SOURCE[0]:-$0}")")"
SSDF_ROOT_DIR="$(realpath "${_SSDF_PACKAGE_DIR}/..")"
source "${SSDF_ROOT_DIR}/00-_ssdf/functions.sh"

_SSDF_PACKAGE_NAME="bash"

_ssdf_echo_section_title "Installing ${_SSDF_PACKAGE_NAME}..."

## ─────────────────────────────────────────────────────────────────────────────
## 📦 Call to `./_&lt;package-manager&gt;.sh` script.
## ─────────────────────────────────────────────────────────────────────────────

_ssdf_select_package_manager
_ssdf_install_with_package_manager "${_SSDF_PACKAGE_DIR}" "${SSDF_PACKAGE_MANAGER}"

## ─────────────────────────────────────────────────────────────────────────────
## 🔗 Symbolic links.
## ─────────────────────────────────────────────────────────────────────────────

mkdir -p "${HOME}/.config/bash"
cp -i "${_SSDF_PACKAGE_DIR}/config/bashrc" "${HOME}/.bashrc"
ln -nsf "${_SSDF_PACKAGE_DIR}/config/prompt.sh" "${HOME}/.config/bash/prompt.sh"
ln -nsf "${_SSDF_PACKAGE_DIR}/config/shopt.sh" "${HOME}/.config/bash/shopt.sh"

## ─────────────────────────────────────────────────────────────────────────────
## ➕ Additional config / install
## ─────────────────────────────────────────────────────────────────────────────

if [ -e "${HOME}/.bashrc" ]; then
    _ssdf_append_source \
        "${HOME}/.bashrc" \
        "${HOME}/.config/shell/common.sh"
    _ssdf_append_source \
        "${HOME}/.config/shell/prompt.local.sh" \
        "${HOME}/.config/bash/prompt.sh"
fi

_ssdf_echo_success "${_SSDF_PACKAGE_NAME} installed"

## ─────────────────────────────────────────────────────────────────────────────
## 🧹 Cleaning up local variables
## ─────────────────────────────────────────────────────────────────────────────

_ssdf_unset_envvars
</code></pre>

<h2 id="my-framework">My Framework</h2>

<blockquote>
  <p><strong>Note</strong>: Nothing you need to know or do in this section.
  But for the curious, here goes nothing!</p>
</blockquote>

<p>Initially the scripts would use directly commands and bash syntax,
but in 2025 with the need for cross platform compatibility I've decided to create
a set of helper functions: they can be found in the
<a href="https://github.com/gnugat/dotfiles/tree/main/00-_ssdf">ssdf</a> directory
(SSDF stands for Super Secret DotFiles).</p>

<p>Inside, we can find helpful documentation:</p>

<ul>
<li>how to use v3 compatible bash arrays,
<a href="https://apple.stackexchange.com/questions/238278/why-does-os-x-have-bash-v3-2-57">the forever default version on macOS</a></li>
<li>how to import (source) bash scripts using relative paths</li>
<li>how BSD (macOS) and GNU (Ubuntu) sed differs</li>
</ul>

<p>We can also find some cross platform scripts (<code>sed</code> and <code>grep &lt;x&gt; | sed</code>).</p>

<p>And we can find some functions which I use in the different scripts:</p>

<ul>
<li><code>_ssdf_prepend_path "${HOME}/bin" "${HOME}/.local/bin"</code>:
Prepends <code>bin</code> and <code>.local/bin</code> to PATH, if they exist and aren't already added</li>
<li><code>_ssdf_append_envvar ~/.config/shell/envvars.local.sh "ACKRC" "${HOME}/.config/ack/ackrc"</code>:
Appends to <code>~/.config/shell/envvars.local.sh</code> the <code>ACKRC</code> with <code>~/.config/ack/ackrc</code></li>
<li><code>_ssdf_unset_envvars</code>:
<a href="https://www.youtube.com/watch?v=yup8gIXxWDU&amp;t=185s">🗑️ Garbage Collectooooooooooooor~ 🎶🤘</a></li>
</ul>

<hr />

<p>Last but not least, the <code>quarry</code> (of Creation) folder is a repository of Blocks:
reusable templates that help bootstrap or extend packages.</p>

<p>Let's say I want to add settings for a new package (eg <a href="https://www.nerdfonts.com/">Nerd Fonts</a>),
then I'll run:</p>

<pre><code class="console">_SSDF_INPUT_PACKAGE_ID='31' \
    _SSDF_INPUT_PACKAGE_NAME='nerd-fonts' \
    _SSDF_INPUT_PACKAGE_EMOJI='🤓' \
    _SSDF_INPUT_PACKAGE_TITLE='Nerd Fonts' \
    _SSDF_INPUT_PACKAGE_SHORT_DESCRIPTION='Iconic font aggregator, collection, and patcher.' \
    bash ~/.dotfiles/00-_ssdf/quarry/0a01-new-package/1.0/install.sh
</code></pre>

<p>And badabim, badaboom, there's now a <code>31-nerd-fonts</code> folder with skeleton scripts
and bootstraped <code>README.md</code>.</p>

<p>Fun fact, <code>00-_ssdf/quarry/0a00-new-quarry-block</code> was used to bootstrap <code>00-_ssdf/quarry/0a01-new-package</code>.</p>

<p>This whole Quarry of Creation concept is a thing I've been toying with,
I'll probably write more about it in the future so stay tuned!</p>

<h2 id="conclusion">Conclusion</h2>

<p>To sum up, I use a git repository to backup my shell settings, so I can then
share them accross many devices.</p>

<p>And I also use some plain and simple bash script to restore and install them.</p>

<p>This might seem like a lot, it's been suiting me well for the past decade.
I hope this can inspire you to do something of your own!</p>


            <footer>
                            <nav class="row">
                            <a class="button six columns" href="/2025/08/20/my-git-workflow.html" title="My Git Workflow">Previous &lt; My Git Workflow</a>
                                        <a class="button six columns" href="/2025/09/03/my-ide-is-vim.html" title="My IDE is Vim">Next &gt; My IDE is Vim</a>
                    </nav>
                    <hr />
            </footer>
        </article>

        <footer>
            <nav class="row">
                <a class="button two columns" href="/about">About</a>
                <a class="button two columns" href="/">Articles</a>
                <a class="button three columns" href="/best-articles">Best Articles</a>
                <a class="button two columns" href="/feed/atom.xml">RSS</a>
                <a class="button two columns" href="https://github.com/gnugat/gnugat.github.io/tree/main/_sculpin">Sources</a>
            </nav>
        </footer>
    </div>

    <script src="/js/highlight.min.js"></script>
    <script type="text/javascript">hljs.highlightAll();</script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q9V6KYH7PW"></script>
    <script type="text/javascript">
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-Q9V6KYH7PW');
    </script>
</body>
</html>
